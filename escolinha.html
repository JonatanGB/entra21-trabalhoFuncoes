<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        
    let matriz = []
        let oi1 = [7, 8, 9]
            oi2 = [4, 5, 6]
            oi3 = [1, 2, 3]
        matriz.push(oi1)
        matriz.push(oi2)
        matriz.push(oi3)


        function verificarMatricula() {
            let verificar = +prompt("Digite a matrícula")
            for(let i = 0; i < todosAlunos.length; i++) {            
                if (verificar == todosAlunos[i][0]) return true
                }
                return false
            }
        
        function menu() {
            let opção
            
            menu:
            while(true){
                opção = +prompt("1) Cadastrar aluno \n2) Editar informações do aluno \n3) Cadastrar notas de um aluno \n4) Listar alunos \n0) Sair")
                switch(opção){
                    case 1:
                        cadastraAlunos()
                        break;
                    case 2:
                        let matricula = +prompt("Insira a matrícula do aluno")
                        editarAlunos(matricula)
                        break;
                    case 3:
                        cadastraNotas()
                        break;
                    case 4:
                        console.table(todosAlunos)
                        break;
                    case 0:
                        break menu
                    default:
                        alert("Opção inválida")
                }
            }
        }
        

        function achaPosição(matricula){
            let posição
            for(let i = 0; i < todosAlunos.length; i++){
                if(matricula == todosAlunos[i][0]) posição = i
            }
            return posição
        }


        function editarAlunos(matricula){
            if(verificaMatricula(matricula) == false) return alert("Matrícula inexistente")
            let linha = achaPosição(matricula)

            todosAlunos[linha][1] = +prompt("Insira o novo nome do aluno") 
        }
            
        
        function cadastraNotas(){
            let notas = []
            let matricula = +prompt("Insira a matrícula do aluno")
            if(verificaMatricula(matricula) == false) return alert("Essa matrícula não existe")
            let posicao = achaPosição(matricula)
            todosAlunos[posicao][2] = +prompt("Insira a primeira nota")
            todosAlunos[posicao][3] = +prompt("Insira a segunda nota")
            todosAlunos[posicao][4] = +prompt("Insira a terceira nota")
            todosAlunos[posicao][5] = (todosAlunos[posicao][2] + todosAlunos[posicao][3] + todosAlunos[posicao][4]) / 3
        }


        menu()

        
        function menu() {
            let opção
            
            menu:
            while(true){
                opção = +prompt("1) Cadastrar aluno \n2) Editar informações do aluno \n3) Cadastrar notas de um aluno \n4) Listar alunos \n0) Sair")
                let sairei = false
                switch(opção){
                    case 1:
                        cadastraAlunos()
                        break;
                    case 2:
                        editarAlunos()
                        break;
                    case 3:
                        cadastraNotas()
                        break;
                    case 4:
                        listarAlunos()
                        break;
                    case 0:
                        break menu
                    default:
                        alert("Opção inválida")
                }
            }
        }
        

        function achaPosição(){
            let matricula = +prompt("Insira o número da matricula do aluno")
            let posição
            for(let i = 0; i < matriz.length; i++){
                if(matricula == matriz[i][0]) posição = i
            }
            return posição
        }


        function editarAlunos(){
            let matricula = verificaMatricula()
            if(matricula == false) return alert("Matrícula inexistente")
            let linha = achaPosição()

            todosAlunos[linha][1] = +prompt("Insira o novo nome do aluno") 
        }
        
        
        
        menu()

    </script>
</body>
</html>